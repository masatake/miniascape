public_network: &public_network openshift-public

networks:
  - name: &openshift_network_0 openshift-network
    mode: nat
    domain: &domain openshift.example.com
    gateway: &gateway 192.168.210.254
    netmask: &netmask 255.255.255.0
    network: 192.168.210.0

common:
  domain: *domain
  gateway: *gateway
  netmask: *netmask

  nameservers:
    - hostname: &openshift_broker_1_ip 192.168.210.11

  redhat:
    subscription:
      pool:

  virtinst:
    location: /var/lib/libvirt/images/rhel-server-6.6-x86_64-dvd.iso

  # TODO:
  repos:
    - rhel-7-server-rpms
    - rhel-7-server-openshift-5.0-rpms
    - rhel-7-server-rh-common-rpms

guests:
  - name: ose-broker
    description: OpenShift Enterprise Broker
    templates:
      autoinst:
        src: autoinstall.d/openshift-broker-ks.cfg

    openshift:
      install_components:
        - broker
        - named
        - activemq
        - datastore

    guests:
      - hostname: ose-broker-1
        fqdn: ose-broker-1.openshift.example.com
        ip: *openshift_broker_1_ip
        interfaces:
          - mac: "52:54:00:21:00:11"
            network: *openshift_network_0

  - name: ose-node
    description: OpenShift Enterprise node
    templates:
      autoinst:
        src: autoinstall.d/openshift-node-ks.cfg

    openshift:
      install_components:
        - broker

    guests:
      - hostname: ose-node-1
        fqdn: ose-node-1.openshift.example.com
        ip: &openshift_node_1_ip 192.168.210.21
        interfaces:
          - mac: "52:54:00:21:00:21"
            network: *openshift_network_0

      - hostname: ose-node-2
        fqdn: ose-node-2.openshift.example.com
        ip: &openshift_node_2_ip 192.168.210.22
        interfaces:
          - mac: "52:54:00:21:00:22"
            network: *openshift_network_0

# vim:sw=2:ts=2:et:
