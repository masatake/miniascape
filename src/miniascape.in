#! /bin/bash
#
# miniascape administration tool
#
# Copyright (C) 2009 Satoru SATOH <satoru.satoh at gmail.com>
#
# This program is free software; you can redistribute it and/or modify
# it under the terms of the GNU General Public License as published by
# the Free Software Foundation; either version 3, or (at your option)
# any later version.
#
# This program is distributed in the hope that it will be useful,
# but WITHOUT ANY WARRANTY; without even the implied warranty of
# MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
# GNU General Public License for more details.
#
# You should have received a copy of the GNU General Public License
# along with this program; if not, write to the Free Software Foundation,
# Inc., 51 Franklin Street, Fifth Floor, Boston, MA 02110-1301, USA.
#

#set -e

prefix=@prefix@
exec_prefix=@exec_prefix@
libexecdir=@libexecdir@
netxmldir=@localstatedir@/lib/@PACKAGE@/networks


if test $# -lt 2; then
    echo "Usage: $0 CMD SUBCMD [ARGS...]"
    exit 1
fi


cmd=$1
subcmd=$2
arg1=$3
arg2=$4
arg3=$5

if test $cmd = "net"; then

    if test "x$arg1" = "x"; then
        echo "Usage: $0 net SUBCMD NET_NAME"
        exit 1
    else
        netname=$arg1
    fi

    if test $subcmd = "register"; then
        netxml=$netxmldir/$netname.xml
        $libexecdir/@PACKAGE@/net-register $netxml

    elif test $subcmd = "unregister"; then
        $libexecdir/@PACKAGE@/net-unregister $netname

    elif test $subcmd = "update"; then
        netxml=$netxmldir/$netname.xml
        $libexecdir/@PACKAGE@/net-register $netxml
    fi
fi

# vim: set sw=4 ts=4 ft=sh expandtab:
