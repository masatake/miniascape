{% extends "common-rhui-ks.cfg" %}

{% block packages_installed %}{{ super() }}
screen
boost
boost-date-time
boost-filesystem
boost-graph
boost-iostreams
boost-program-options
boost-python
boost-regex
boost-serialization
boost-signals
boost-system
boost-test
boost-thread
boost-wave
libpcap
policycoreutils-python
python-ldap
python-setuptools
qpid-cpp-client
qpid-cpp-client-ssl
qpid-cpp-server 
qpid-cpp-server-ssl{% endblock %}


{% block post %}{{ super() }}
mkdir -p /root/setup/certs
{% include "post.root_screenrc" %}
cat << EOF > /root/setup/answers.txt
{% include 'data/rhui/root/setup/answers.txt' %}
EOF
cat << EOF > /root/setup/certs/Makefile
{% include 'data/rhui/root/setup/certs/Makefile' %}
EOF
cat << EOF > /root/setup/post_rhui_installation.update_configs.sh
{% include 'root/setup/post_rhui_installation.update_configs.sh' %}
EOF
cat << EOF > /root/setup/get_rhui_iso.sh
{% include 'root/setup/get_rhui_iso.sh' %}
EOF
cat << EOF > /root/setup/rhui_entitlement_certs.tar.xz.base64
{% include 'root/setup/rhui_entitlement_certs.tar.xz.base64' %}
EOF
base64 --decode /root/setup/rhui_entitlement_certs.tar.xz.base64 > \
  /root/setup/rhui_entitlement_certs.tar.xz
tar --xz -xf /root/setup/rhui_entitlement_certs.tar.xz -C /root/setup
{% endblock %}
